@model ACETreasureHunt.Models.PitStop

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<div>
    <h4>PitStop</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.PitStopName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PitStopName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PitStopNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PitStopNumber)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Latitude)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Latitude)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Longitude)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Longitude)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EventID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EventID)
        </dd>

    </dl>
</div>

<div id="map" data-mode="" style=" height: 480px; width: 500px ">
    <input type="hidden" data-map-markers="" value="" name="map-geojson-data" />
</div>

<p>
    @Html.ActionLink("Back to List", "Index")
</p>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        $(document).ready(function () {

            var osmUrl = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
                osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                osm = L.tileLayer(osmUrl, {
                    maxZoom: 18,
                    attribution: osmAttrib
                });


            var mapLat = @Model.Latitude.ToString();
            var mapLon = @Model.Longitude.ToString();
            var platlng = L.latLng(mapLat, mapLon);


            var map = L.map('map').setView([mapLat, mapLon], 13).addLayer(osm);

            L.circle([mapLat, mapLon], {
                color: 'red',
                fillColor: '#f03',
                fillOpacity: 0.5,
                radius: 50
            }).addTo(map);

            //var marker = L.marker([mapLon, mapLat]).addTo(map);



        });


    </script>
}